<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>æ–‡åŒ–ç¥­ã‚¤ãƒ³ãƒ•ã‚©ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³</title>

<link href="https://fonts.googleapis.com/css2?family=Zen+Kaku+Gothic+New&display=swap" rel="stylesheet">

<style>
body{
 margin:0;
 font-family:'Zen Kaku Gothic New',sans-serif;
 background:#f5f7fa;
}

/* ãƒ†ãƒ­ãƒƒãƒ— */
#ticker{
 background:#003366;
 color:white;
 overflow:hidden;
 padding:8px 0;
 writing-mode: horizontal-tb;
 text-orientation: mixed;
}

#ticker span{
 display:inline-block;
 white-space: nowrap;
 min-width: 100%;
 padding-left:100%;
 animation: flow 45s linear infinite;
}

@keyframes flow{
 from{transform:translateX(0);}
 to{transform:translateX(-100%);}
}

/* ãƒ¡ã‚¤ãƒ³ */
#main{
 display:flex;
 height:calc(100vh - 40px);
}

#left{
 flex:2;
 padding:15px;
}

#right{
 flex:1;
 padding:15px;
 background:#eef1f5;
}

/* ã‚«ãƒ¼ãƒ‰ */
.card{
 background:white;
 border-radius:10px;
 padding:10px;
 margin:8px 0;
 box-shadow:0 2px 5px rgba(0,0,0,0.1);
 display:flex;
 justify-content:space-between;
 font-size:18px;
}

.status-o{color:green;font-weight:bold;}
.status-d{color:orange;font-weight:bold;}
.status-x{color:red;font-weight:bold;}

/* æ™‚åˆ»è¡¨ */
.blink{
 animation: blink 1s infinite;
 color:red;
}

@keyframes blink{
 50%{opacity:0;}
}
</style>
</head>

<body>

<!-- ãƒ†ãƒ­ãƒƒãƒ— -->
<div id="ticker">
 <span id="tickerText"></span>
</div>

<!-- ãƒ¡ã‚¤ãƒ³ -->
<div id="main">

<!-- å·¦ -->
<div id="left">
 <h2>ğŸª å„ã‚¯ãƒ©ã‚¹æ··é›‘çŠ¶æ³</h2>
 <div id="classes"></div>
</div>

<!-- å³ -->
<div id="right">
 <h2>ğŸšŒ æ™‚åˆ»è¡¨</h2>
 <div id="times"></div>
</div>

</div>

<script>

/* ãƒ†ãƒ­ãƒƒãƒ— */
const messages=[
 "æ°´åˆ†è£œçµ¦ã‚’å¿˜ã‚Œãšã«ï¼",
 "ã”æ¥å ´ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ï¼",
 "ç†±ä¸­ç—‡ã«ã”æ³¨æ„ãã ã•ã„",
 "å›°ã£ãŸã‚‰å—ä»˜ã¸ï¼"
];

let msg=0;

function updateTicker(){
 document.getElementById("tickerText").textContent="ğŸ“¢ "+messages[msg];
 msg=(msg+1)%messages.length;
}

setInterval(updateTicker,7000);
updateTicker();

/* ä»®ï¼šã‚¯ãƒ©ã‚¹è¡¨ç¤º */
const classData=[
 {id:"1-1",name:"ãŠåŒ–ã‘å±‹æ•·",status:"â—‹"},
 {id:"1-2",name:"ã‚«ãƒ•ã‚§",status:"â–³"},
 {id:"1-3",name:"è„±å‡ºã‚²ãƒ¼ãƒ ",status:"âœ•"},
 {id:"1-4",name:"ç¸æ—¥",status:"â—‹"},
 {id:"2-1",name:"å°„çš„",status:"â–³"},
];

function statusClass(s){
 if(s==="â—‹") return "status-o";
 if(s==="â–³") return "status-d";
 if(s==="âœ•") return "status-x";
}

function drawClasses(){
 let html="";

 classData.forEach(c=>{
  html+=`
   <div class="card">
    <div>${c.id} ${c.name}</div>
    <div class="${statusClass(c.status)}">${c.status}</div>
   </div>
  `;
 });

 document.getElementById("classes").innerHTML=html;
}

drawClasses();

/* æ™‚åˆ»è¡¨ï¼ˆä»®ï¼‰ */

const schedule=[
 {to:"é§…å‰",time:"16:10"},
 {to:"é§…å‰",time:"16:25"},
 {to:"é§…å‰",time:"16:40"},
 {to:"é§…å‰",time:"16:55"}
];

function updateTime(){
 const now=new Date();
 let html="";

 schedule.forEach(s=>{
  const [h,m]=s.time.split(":");
  const t=new Date();
  t.setHours(h,m,0);

  const diff=(t-now)/60000;

  if(diff>-2){

   let cls="";

   if(diff<=1 && diff>0) cls="blink";

   html+=`
    <div class="card ${cls}">
     <div>${s.to}</div>
     <div>${s.time}</div>
    </div>
   `;
  }
 });

 document.getElementById("times").innerHTML=html;
}

setInterval(updateTime,1000);
updateTime();

</script>

</body>
</html>